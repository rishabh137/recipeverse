"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[620],{9620:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var r=t(4535),i=t(6446),n=t(2827),o=t(9768),l=t(5865),s=t(1906),f=t(835),d=t(5043),c=t(579);const p=(0,r.Ay)(i.A)({padding:"4rem","& > form":{display:"flex","& > div > #image-field":{marginTop:"16px",height:"142px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","& > p":{marginBottom:"2rem",fontSize:"18px"},"& > div > div > input":{color:"#fff"}},"& > .right-child":{marginLeft:"3rem",width:"50%"}},"& > form > div > div ":{background:"#383737",borderRadius:"4px",fontSize:"1rem",color:"#fff","& > div > input":{color:"#fff"}},"& > div > input, textarea":{color:"#fff"}}),m=()=>{const e=(0,f.Zp)(),{openDrawer:a}=(0,f.KC)(),[t,r]=(0,d.useState)(""),[m,u]=(0,d.useState)(""),[h,g]=(0,d.useState)([]),[x,v]=(0,d.useState)(null),[b,j]=(0,d.useState)([]),[A,S]=(0,d.useState)("");return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(p,{style:a?{marginLeft:280}:{marginLeft:0},children:[(0,c.jsx)("h1",{children:"Add a recipe"}),A&&(0,c.jsx)("p",{style:{color:"red"},children:A}),(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const r=new FormData;r.append("name",t),r.append("description",m),r.append("ingredients",h),r.append("image",x),r.append("steps",b);const i=await fetch("/api/recipes",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:r});if(i.ok){await i.json();e("/resipes")}else S("Failed to add recipe, Please refresh the page and try again")},children:[(0,c.jsxs)(i.A,{style:{width:"45%"},children:[(0,c.jsx)(n.A,{value:t,onChange:e=>r(e.target.value),label:"Name",variant:"outlined",fullWidth:!0,color:"",margin:"normal",InputLabelProps:{sx:{color:"#fff",["&.".concat(o.A.shrink)]:{color:"#fff",fontSize:"22px",borderColor:"#fff"}}}}),(0,c.jsx)(n.A,{multiline:!0,rows:7,value:m,onChange:e=>u(e.target.value),label:"Recipe description",variant:"outlined",fullWidth:!0,margin:"normal",InputLabelProps:{sx:{color:"#fff",["&.".concat(o.A.shrink)]:{color:"#fff",fontSize:"22px",borderColor:"#fff"}}}}),(0,c.jsx)(n.A,{multiline:!0,rows:3,value:h.join(", "),onChange:e=>g(e.target.value.split(",")),label:"Ingredients (seperated by comma)",variant:"outlined",fullWidth:!0,margin:"normal",InputLabelProps:{sx:{color:"#fff",["&.".concat(o.A.shrink)]:{color:"#fff",fontSize:"22px",borderColor:"#fff"}}}})]}),(0,c.jsxs)(i.A,{className:"right-child",children:[(0,c.jsxs)(i.A,{id:"image-field",children:[(0,c.jsx)(l.A,{children:"Add an image"}),(0,c.jsx)(n.A,{type:"file",name:"image",placeholder:"Upload an image",className:"recipe-details",onChange:e=>v(e.target.files[0])})]}),(0,c.jsx)(n.A,{multiline:!0,rows:7,value:b.join(", "),onChange:e=>j(e.target.value.split(",")),label:"Steps  (seperated by comma)",variant:"outlined",fullWidth:!0,margin:"normal",InputLabelProps:{sx:{color:"#fff",["&.".concat(o.A.shrink)]:{color:"#fff",fontSize:"22px",borderColor:"#fff"}}}}),(0,c.jsx)(s.A,{variant:"contained",color:"primary",type:"submit",children:"PUBLISH RECIPE"})]})]})]})})}}}]);
//# sourceMappingURL=620.fe5ab641.chunk.js.map